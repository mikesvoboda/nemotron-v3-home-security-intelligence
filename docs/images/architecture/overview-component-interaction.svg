<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" width="1400" height="900">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#60A5FA"/>
      <stop offset="100%" style="stop-color:#3B82F6"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#34D399"/>
      <stop offset="100%" style="stop-color:#10B981"/>
    </linearGradient>
    <linearGradient id="amberGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FBBF24"/>
      <stop offset="100%" style="stop-color:#F59E0B"/>
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#A78BFA"/>
      <stop offset="100%" style="stop-color:#8B5CF6"/>
    </linearGradient>
    <linearGradient id="cyanGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#22D3EE"/>
      <stop offset="100%" style="stop-color:#06B6D4"/>
    </linearGradient>
    <linearGradient id="roseGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FB7185"/>
      <stop offset="100%" style="stop-color:#F43F5E"/>
    </linearGradient>
    <linearGradient id="grayGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9CA3AF"/>
      <stop offset="100%" style="stop-color:#6B7280"/>
    </linearGradient>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3B82F6"/>
    </marker>
    <marker id="arrowGray" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#6B7280"/>
    </marker>
    <marker id="arrowAmber" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#F59E0B"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#10B981"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#8B5CF6"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1400" height="900" fill="#F9FAFB"/>

  <!-- Title -->
  <text x="700" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#1F2937" text-anchor="middle">Component Interaction Diagram</text>

  <!-- Frontend Section -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="350" height="480" rx="12" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2" filter="url(#shadow)"/>
    <text x="175" y="28" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#1E40AF" text-anchor="middle">Frontend (React)</text>

    <!-- Pages -->
    <g transform="translate(15, 45)">
      <text x="160" y="15" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#374151" text-anchor="middle">Pages</text>
      <rect x="0" y="25" width="75" height="35" rx="6" fill="url(#blueGrad)" filter="url(#shadow)"/>
      <text x="37" y="47" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">Dashboard</text>

      <rect x="82" y="25" width="75" height="35" rx="6" fill="url(#blueGrad)" filter="url(#shadow)"/>
      <text x="119" y="47" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">Timeline</text>

      <rect x="164" y="25" width="75" height="35" rx="6" fill="url(#blueGrad)" filter="url(#shadow)"/>
      <text x="201" y="47" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">Settings</text>

      <rect x="246" y="25" width="75" height="35" rx="6" fill="url(#blueGrad)" filter="url(#shadow)"/>
      <text x="283" y="47" font-family="system-ui, sans-serif" font-size="9" font-weight="500" fill="white" text-anchor="middle">AI Perf</text>
    </g>

    <!-- Hooks -->
    <g transform="translate(15, 130)">
      <rect x="0" y="0" width="320" height="200" rx="8" fill="#DBEAFE" stroke="#93C5FD" stroke-width="1"/>
      <text x="160" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#1E40AF" text-anchor="middle">Custom Hooks</text>

      <rect x="10" y="30" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="57" y="48" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useWebSocket</text>

      <rect x="112" y="30" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="159" y="48" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useEventStream</text>

      <rect x="214" y="30" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="261" y="48" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useSystemStatus</text>

      <rect x="10" y="65" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="57" y="83" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useAIMetrics</text>

      <rect x="112" y="65" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="159" y="83" font-family="monospace" font-size="8" fill="white" text-anchor="middle">usePerfMetrics</text>

      <rect x="214" y="65" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="261" y="83" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useHealthStatus</text>

      <rect x="10" y="100" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="57" y="118" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useServiceStatus</text>

      <rect x="112" y="100" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="159" y="118" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useConnStatus</text>

      <rect x="214" y="100" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="261" y="118" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useModelZoo</text>

      <rect x="112" y="135" width="95" height="28" rx="4" fill="url(#cyanGrad)"/>
      <text x="159" y="153" font-family="monospace" font-size="8" fill="white" text-anchor="middle">useDetEnrich</text>

      <rect x="10" y="170" width="145" height="22" rx="4" fill="#93C5FD" opacity="0.5"/>
      <text x="82" y="185" font-family="system-ui, sans-serif" font-size="8" fill="#1E40AF" text-anchor="middle">WebSocketManager (singleton)</text>
    </g>

    <!-- Services -->
    <g transform="translate(15, 350)">
      <rect x="0" y="0" width="320" height="110" rx="8" fill="#DBEAFE" stroke="#93C5FD" stroke-width="1"/>
      <text x="160" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#1E40AF" text-anchor="middle">Services</text>

      <rect x="60" y="35" width="90" height="30" rx="4" fill="url(#blueGrad)"/>
      <text x="105" y="54" font-family="monospace" font-size="9" fill="white" text-anchor="middle">api.ts</text>

      <rect x="170" y="35" width="90" height="30" rx="4" fill="url(#blueGrad)"/>
      <text x="215" y="54" font-family="monospace" font-size="9" fill="white" text-anchor="middle">logger.ts</text>

      <text x="160" y="90" font-family="system-ui, sans-serif" font-size="9" fill="#6B7280" text-anchor="middle">Type-safe REST API wrapper</text>
    </g>
  </g>

  <!-- Backend Section -->
  <g transform="translate(410, 55)">
    <rect x="0" y="0" width="570" height="720" rx="12" fill="#FEF3C7" stroke="#F59E0B" stroke-width="2" filter="url(#shadow)"/>
    <text x="285" y="28" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#92400E" text-anchor="middle">Backend (FastAPI)</text>

    <!-- API Routes -->
    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="540" height="100" rx="8" fill="#FDE68A" stroke="#FBBF24" stroke-width="1"/>
      <text x="270" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#92400E" text-anchor="middle">API Routes</text>

      <rect x="10" y="30" width="70" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="45" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">/cameras</text>

      <rect x="88" y="30" width="70" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="123" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">/events</text>

      <rect x="166" y="30" width="70" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="201" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">/detections</text>

      <rect x="244" y="30" width="70" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="279" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">/system</text>

      <rect x="322" y="30" width="70" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="357" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">/media</text>

      <rect x="400" y="30" width="70" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="435" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">/ws/*</text>

      <text x="270" y="80" font-family="system-ui, sans-serif" font-size="9" fill="#78350F" text-anchor="middle">REST endpoints + WebSocket handlers</text>
    </g>

    <!-- AI Pipeline -->
    <g transform="translate(15, 160)">
      <rect x="0" y="0" width="260" height="260" rx="8" fill="#FEF9C3" stroke="#FDE047" stroke-width="1"/>
      <text x="130" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#854D0E" text-anchor="middle">AI Pipeline</text>

      <rect x="10" y="30" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="65" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">FileWatcher</text>

      <rect x="140" y="30" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="195" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">DetectorClient</text>

      <rect x="10" y="65" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="65" y="82" font-family="monospace" font-size="8" fill="white" text-anchor="middle">BatchAggregator</text>

      <rect x="140" y="65" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="195" y="82" font-family="monospace" font-size="8" fill="white" text-anchor="middle">NemotronAnalyzer</text>

      <rect x="10" y="100" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="65" y="117" font-family="monospace" font-size="8" fill="white" text-anchor="middle">ThumbnailGen</text>

      <rect x="140" y="100" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="195" y="117" font-family="monospace" font-size="8" fill="white" text-anchor="middle">EnrichmentPipeline</text>

      <rect x="10" y="135" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="65" y="152" font-family="monospace" font-size="8" fill="white" text-anchor="middle">FlorenceClient</text>

      <rect x="140" y="135" width="110" height="26" rx="4" fill="url(#amberGrad)"/>
      <text x="195" y="152" font-family="monospace" font-size="8" fill="white" text-anchor="middle">CLIPClient</text>

      <!-- Flow arrows inside pipeline -->
      <path d="M65,56 L65,65" stroke="#B45309" stroke-width="1.5" marker-end="url(#arrowAmber)"/>
      <path d="M195,56 L195,65" stroke="#B45309" stroke-width="1.5" marker-end="url(#arrowAmber)"/>
      <path d="M120,78 L140,78" stroke="#B45309" stroke-width="1.5" marker-end="url(#arrowAmber)"/>

      <text x="130" y="180" font-family="system-ui, sans-serif" font-size="9" fill="#78350F" text-anchor="middle">Image processing + AI inference</text>
    </g>

    <!-- Background Workers -->
    <g transform="translate(290, 160)">
      <rect x="0" y="0" width="260" height="120" rx="8" fill="#FEF9C3" stroke="#FDE047" stroke-width="1"/>
      <text x="130" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#854D0E" text-anchor="middle">Background Workers</text>

      <rect x="10" y="30" width="110" height="26" rx="4" fill="url(#purpleGrad)"/>
      <text x="65" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">DetectionWorker</text>

      <rect x="140" y="30" width="110" height="26" rx="4" fill="url(#purpleGrad)"/>
      <text x="195" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">AnalysisWorker</text>

      <rect x="10" y="65" width="110" height="26" rx="4" fill="url(#purpleGrad)"/>
      <text x="65" y="82" font-family="monospace" font-size="8" fill="white" text-anchor="middle">BatchTimeoutWkr</text>

      <rect x="140" y="65" width="110" height="26" rx="4" fill="url(#purpleGrad)"/>
      <text x="195" y="82" font-family="monospace" font-size="8" fill="white" text-anchor="middle">QueueMetricsWkr</text>
    </g>

    <!-- Background Services -->
    <g transform="translate(290, 295)">
      <rect x="0" y="0" width="260" height="225" rx="8" fill="#FEF9C3" stroke="#FDE047" stroke-width="1"/>
      <text x="130" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#854D0E" text-anchor="middle">Background Services</text>

      <rect x="10" y="30" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="65" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">GPUMonitor</text>

      <rect x="140" y="30" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="195" y="47" font-family="monospace" font-size="8" fill="white" text-anchor="middle">CleanupService</text>

      <rect x="10" y="65" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="65" y="82" font-family="monospace" font-size="8" fill="white" text-anchor="middle">HealthMonitor</text>

      <rect x="140" y="65" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="195" y="82" font-family="monospace" font-size="8" fill="white" text-anchor="middle">EventBroadcaster</text>

      <rect x="10" y="100" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="65" y="117" font-family="monospace" font-size="8" fill="white" text-anchor="middle">SystemBroadcaster</text>

      <rect x="140" y="100" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="195" y="117" font-family="monospace" font-size="8" fill="white" text-anchor="middle">PerfCollector</text>

      <rect x="10" y="135" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="65" y="152" font-family="monospace" font-size="8" fill="white" text-anchor="middle">CircuitBreaker</text>

      <rect x="140" y="135" width="110" height="26" rx="4" fill="url(#roseGrad)"/>
      <text x="195" y="152" font-family="monospace" font-size="8" fill="white" text-anchor="middle">DegradationMgr</text>

      <text x="130" y="190" font-family="system-ui, sans-serif" font-size="9" fill="#78350F" text-anchor="middle">Monitoring + resilience</text>
    </g>

    <!-- Internal connection labels -->
    <g transform="translate(15, 540)">
      <rect x="0" y="0" width="540" height="80" rx="8" fill="#FDE68A" opacity="0.5"/>
      <text x="270" y="25" font-family="system-ui, sans-serif" font-size="10" fill="#78350F" text-anchor="middle">Internal Data Flow</text>
      <text x="270" y="45" font-family="system-ui, sans-serif" font-size="9" fill="#92400E" text-anchor="middle">FileWatcher -> Redis Queue -> DetectionWorker -> DetectorClient -> BatchAggregator</text>
      <text x="270" y="60" font-family="system-ui, sans-serif" font-size="9" fill="#92400E" text-anchor="middle">BatchAggregator -> Redis Queue -> AnalysisWorker -> NemotronAnalyzer -> EventBroadcaster</text>
    </g>
  </g>

  <!-- External Services Section -->
  <g transform="translate(1010, 55)">
    <rect x="0" y="0" width="350" height="480" rx="12" fill="#ECFDF5" stroke="#10B981" stroke-width="2" filter="url(#shadow)"/>
    <text x="175" y="28" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#065F46" text-anchor="middle">External Services</text>

    <!-- Redis -->
    <g transform="translate(15, 50)">
      <rect x="0" y="0" width="150" height="90" rx="8" fill="url(#purpleGrad)" filter="url(#shadow)"/>
      <text x="75" y="28" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="white" text-anchor="middle">Redis</text>
      <text x="75" y="48" font-family="system-ui, sans-serif" font-size="9" fill="#E9D5FF" text-anchor="middle">Queues</text>
      <text x="75" y="62" font-family="system-ui, sans-serif" font-size="9" fill="#E9D5FF" text-anchor="middle">Pub/Sub</text>
      <text x="75" y="76" font-family="system-ui, sans-serif" font-size="9" fill="#E9D5FF" text-anchor="middle">Cache</text>
    </g>

    <!-- PostgreSQL -->
    <g transform="translate(185, 50)">
      <ellipse cx="75" cy="15" rx="60" ry="15" fill="url(#greenGrad)"/>
      <rect x="15" y="15" width="120" height="60" fill="url(#greenGrad)"/>
      <ellipse cx="75" cy="75" rx="60" ry="15" fill="#059669"/>
      <ellipse cx="75" cy="15" rx="60" ry="15" fill="#34D399"/>
      <text x="75" y="50" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="white" text-anchor="middle">PostgreSQL</text>
    </g>

    <!-- AI Services -->
    <g transform="translate(15, 165)">
      <rect x="0" y="0" width="320" height="280" rx="8" fill="#D1FAE5" stroke="#6EE7B7" stroke-width="1"/>
      <text x="160" y="22" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#065F46" text-anchor="middle">AI Services (GPU)</text>

      <rect x="15" y="40" width="135" height="70" rx="6" fill="url(#amberGrad)" filter="url(#shadow)"/>
      <text x="82" y="62" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">RT-DETRv2</text>
      <text x="82" y="78" font-family="system-ui, sans-serif" font-size="9" fill="#FEF3C7" text-anchor="middle">Object Detection</text>
      <text x="82" y="95" font-family="monospace" font-size="9" fill="#FDE68A" text-anchor="middle">:8090</text>

      <rect x="170" y="40" width="135" height="70" rx="6" fill="url(#amberGrad)" filter="url(#shadow)"/>
      <text x="237" y="62" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Nemotron LLM</text>
      <text x="237" y="78" font-family="system-ui, sans-serif" font-size="9" fill="#FEF3C7" text-anchor="middle">Risk Analysis</text>
      <text x="237" y="95" font-family="monospace" font-size="9" fill="#FDE68A" text-anchor="middle">:8091</text>

      <rect x="15" y="125" width="135" height="60" rx="6" fill="url(#amberGrad)" opacity="0.7" filter="url(#shadow)"/>
      <text x="82" y="147" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white" text-anchor="middle">Florence-2</text>
      <text x="82" y="162" font-family="system-ui, sans-serif" font-size="8" fill="#FEF3C7" text-anchor="middle">Vision (optional)</text>
      <text x="82" y="177" font-family="monospace" font-size="8" fill="#FDE68A" text-anchor="middle">:8092</text>

      <rect x="170" y="125" width="135" height="60" rx="6" fill="url(#amberGrad)" opacity="0.7" filter="url(#shadow)"/>
      <text x="237" y="147" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white" text-anchor="middle">CLIP</text>
      <text x="237" y="162" font-family="system-ui, sans-serif" font-size="8" fill="#FEF3C7" text-anchor="middle">Re-ID (optional)</text>
      <text x="237" y="177" font-family="monospace" font-size="8" fill="#FDE68A" text-anchor="middle">:8093</text>

      <!-- GPU indicator -->
      <g transform="translate(85, 205)">
        <rect x="0" y="0" width="150" height="35" rx="6" fill="#76B900"/>
        <text x="75" y="15" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white" text-anchor="middle">NVIDIA GPU</text>
        <text x="75" y="28" font-family="system-ui, sans-serif" font-size="8" fill="#D9F99D" text-anchor="middle">RTX A5500 (24GB)</text>
      </g>
    </g>
  </g>

  <!-- Connection Lines -->
  <!-- Frontend to Backend REST -->
  <line x1="380" y1="420" x2="410" y2="100" stroke="#3B82F6" stroke-width="2" marker-end="url(#arrowBlue)"/>
  <text x="385" y="250" font-family="system-ui, sans-serif" font-size="9" fill="#3B82F6" transform="rotate(-70, 385, 250)">REST API</text>

  <!-- Frontend to Backend WebSocket -->
  <line x1="380" y1="280" x2="410" y2="120" stroke="#F43F5E" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowGray)"/>
  <text x="388" y="180" font-family="system-ui, sans-serif" font-size="9" fill="#F43F5E" transform="rotate(-60, 388, 180)">WebSocket</text>

  <!-- Backend to Redis -->
  <line x1="980" y1="300" x2="1010" y2="110" stroke="#8B5CF6" stroke-width="2" marker-end="url(#arrowPurple)"/>

  <!-- Backend to PostgreSQL -->
  <line x1="980" y1="400" x2="1140" y2="110" stroke="#10B981" stroke-width="2" marker-end="url(#arrowGreen)"/>

  <!-- Backend to AI Services -->
  <line x1="980" y1="350" x2="1010" y2="300" stroke="#F59E0B" stroke-width="2" marker-end="url(#arrowAmber)"/>

  <!-- Legend -->
  <g transform="translate(30, 800)">
    <rect x="0" y="0" width="950" height="80" rx="8" fill="white" stroke="#E5E7EB" stroke-width="1"/>
    <text x="475" y="20" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#374151" text-anchor="middle">Legend</text>

    <rect x="20" y="35" width="60" height="20" rx="4" fill="url(#blueGrad)"/>
    <text x="95" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Pages/Services</text>

    <rect x="180" y="35" width="60" height="20" rx="4" fill="url(#cyanGrad)"/>
    <text x="255" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">React Hooks</text>

    <rect x="340" y="35" width="60" height="20" rx="4" fill="url(#amberGrad)"/>
    <text x="415" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">API/Pipeline</text>

    <rect x="490" y="35" width="60" height="20" rx="4" fill="url(#purpleGrad)"/>
    <text x="565" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Workers</text>

    <rect x="640" y="35" width="60" height="20" rx="4" fill="url(#roseGrad)"/>
    <text x="715" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Background Svc</text>

    <rect x="800" y="35" width="60" height="20" rx="4" fill="url(#greenGrad)"/>
    <text x="875" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Data Stores</text>
  </g>
</svg>
