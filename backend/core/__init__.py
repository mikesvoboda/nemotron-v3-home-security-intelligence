"""Core infrastructure components."""

from backend.core.config import Settings, get_settings
from backend.core.database import (
    Base,
    close_db,
    escape_ilike_pattern,
    get_db,
    get_engine,
    get_pool_status,
    get_session,
    get_session_factory,
    init_db,
)
from backend.core.json_utils import (
    extract_json_field,
    extract_json_from_llm_response,
)
from backend.core.logging import (
    SENSITIVE_FIELD_NAMES,
    get_logger,
    get_request_id,
    log_exception_with_context,
    redact_sensitive_value,
    redact_url,
    sanitize_error,
    set_request_id,
    setup_logging,
)
from backend.core.metrics import (
    get_metrics_response,
    observe_ai_request_duration,
    observe_stage_duration,
    record_detection_processed,
    record_event_created,
    record_pipeline_error,
    set_queue_depth,
)
from backend.core.mime_types import (
    DEFAULT_IMAGE_MIME,
    DEFAULT_VIDEO_MIME,
    EXTENSION_TO_MIME,
    get_mime_type,
    get_mime_type_with_default,
    is_image_mime_type,
    is_supported_mime_type,
    is_video_mime_type,
    normalize_file_type,
)
from backend.core.query_explain import (
    QueryExplainLogger,
    setup_explain_logging,
)
from backend.core.redis import (
    QueueAddResult,
    RedisClient,
    close_redis,
    get_redis,
    get_redis_client_sync,
    get_redis_optional,
    init_redis,
)
from backend.core.tls import (
    CertificateNotFoundError,
    CertificateValidationError,
    TLSConfig,
    TLSConfigurationError,
    TLSError,
    TLSMode,
    create_ssl_context,
    generate_self_signed_cert,
    generate_self_signed_certificate,
    get_cert_info,
    get_tls_config,
    is_tls_enabled,
    load_certificate_paths,
    validate_certificate,
    validate_certificate_files,
)

__all__ = [
    "DEFAULT_IMAGE_MIME",
    "DEFAULT_VIDEO_MIME",
    "EXTENSION_TO_MIME",
    "SENSITIVE_FIELD_NAMES",
    "Base",
    "CertificateNotFoundError",
    "CertificateValidationError",
    "QueryExplainLogger",
    "QueueAddResult",
    "RedisClient",
    "Settings",
    "TLSConfig",
    "TLSConfigurationError",
    "TLSError",
    "TLSMode",
    "close_db",
    "close_redis",
    "create_ssl_context",
    "escape_ilike_pattern",
    "extract_json_field",
    "extract_json_from_llm_response",
    "generate_self_signed_cert",
    "generate_self_signed_certificate",
    "get_cert_info",
    "get_db",
    "get_engine",
    "get_logger",
    "get_metrics_response",
    "get_mime_type",
    "get_mime_type_with_default",
    "get_pool_status",
    "get_redis",
    "get_redis_client_sync",
    "get_redis_optional",
    "get_request_id",
    "get_session",
    "get_session_factory",
    "get_settings",
    "get_tls_config",
    "init_db",
    "init_redis",
    "is_image_mime_type",
    "is_supported_mime_type",
    "is_tls_enabled",
    "is_video_mime_type",
    "load_certificate_paths",
    "log_exception_with_context",
    "normalize_file_type",
    "observe_ai_request_duration",
    "observe_stage_duration",
    "record_detection_processed",
    "record_event_created",
    "record_pipeline_error",
    "redact_sensitive_value",
    "redact_url",
    "sanitize_error",
    "set_queue_depth",
    "set_request_id",
    "setup_explain_logging",
    "setup_logging",
    "validate_certificate",
    "validate_certificate_files",
]
